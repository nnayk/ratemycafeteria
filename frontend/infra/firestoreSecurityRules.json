rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {
  	match /schools/{school} {
    allow read: if true 
    }
    
    match /fortunes/{docId} {
    allow read: if true 
    }

      match /cafes/{school}/{cafe}/{details} {
    allow read: if true
    }

    match /reviews/{school}/{cafe}/{reviews} {
    allow read: if true
    }
    
    match /sourcedReviews/{school}/{cafe}/{review} {
    	allow read: if true;
    }
    
     // Allow users to add new cafe requests but not modify or delete
    match /cafe_requests/{school} {
      allow create,read: if true;
      allow update, delete: if false;
    }
    
    match /cafe_requests/{school}/{cafes} {
      allow create,read: if true;
      allow update, delete: if false;
    }
    
     // Allow users to add new cafe requests but not modify or delete
    match /cafe_requests/{school}/{cafes}/{cafe} {
      allow create,read, update: if true;
      allow delete: if false;
    }

    // Allow users to add new school requests but not modify or delete
    match /school_requests/{docId} {
      allow create: if true;
      allow update, delete: if false;
    }
    
    // Allow users to add new review requests but not modify or delete
    match /review_requests/{school} {
      allow create,read: if true;
      allow update, delete: if false;
    }
    
     // Allow users to add new review requests but not modify or delete
    match /review_requests/{school}/{cafe} {
      allow create,read: if true;
      allow update, delete: if false;
    }

    // Allow users to add new review requests but not modify or delete
    match /review_requests/{school}/{cafe}/{docId} {
      allow create,read: if true;
      allow update, delete: if false;
    }
    }
}

